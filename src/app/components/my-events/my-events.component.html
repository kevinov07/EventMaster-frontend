<app-header class="fixed-top"></app-header>

<section class="container-fluid text-center" style="margin-top: 100px; background-color: #7120af;">
  <h1 class="text-white">Mis Eventos</h1>
  <div class="mt-4">
    <h3 class="text-white">Eventos Creados</h3>
<div>
  @if (createdEvents.length === 0) {
  <div>No has creado ningún evento.</div>
  }@else {
    <div class="row m-5">
      @for (event of createdEvents; track event.id) {

          <div class="col-4">
            <div class="card" style="width: 350px; height: 450px;">
              <div class="card-body d-flex justify-content-between align-items-start">
                <div>
                  <h2>{{ event.title }}</h2>
                  <p>{{ event.description }}</p>
                  <p><strong>Fecha:</strong> {{ event.date }}</p>
                  <p><strong>Hora:</strong>{{ event.time}}</p>
                  <p><strong>Ubicación:</strong> {{ event.location }}</p>
                  <p><strong>Categoría:</strong> {{ event.category }}</p>
                  <button class="btn btn-warning ms-3" (click)="deleteEvent(event.id!) ">Borrar evento</button>
                </div>
                <div>
                  <button class="btn bi bi-pen btn-primary" (click)="editEvent(event)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
                      <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          </div>
        }
        </div>
  }
</div>
</div>

  <div class="mt-4">
      <h3 class="text-white">Eventos Inscritos</h3>
      @if (attendingEvents.length === 0) {
        <div>No estás inscrito en ningún evento.</div>
      }@else {
        <div class="row m-5">
          @for (event of attendingEvents; track event.id) {
    
              <div class="col-4">
                <div class="card" style="width: 350px; height: 450px;">
                  <div class="card-body d-flex justify-content-between align-items-start">
                    <div>
                      <h2>{{ event.title }}</h2>
                      <p>{{ event.description }}</p>
                      <p><strong>Fecha:</strong> {{ event.date }}</p>
                      <p><strong>Hora:</strong>{{ event.time}}</p>
                      <p><strong>Ubicación:</strong> {{ event.location }}</p>
                      <p><strong>Categoría:</strong> {{ event.category }}</p>
                      <div class="d-flex align-items-center">
                        <span class="badge bg-success fs-5"> ✔ Inscrito <i class="bi bi-check-circle"></i></span>
                        <button class="btn btn-warning ms-3" (click)="leaveEvent(userId, event.id!)">Cancelar Inscripción</button>
                      </div>
                    </div>
                    
                  </div>
                </div>
              </div>
            }
            </div>
      
          }
  </div>
</section>

<!-- Formulario de edición -->
<!-- <div class="modal fade" id="editEventModal" tabindex="-1" role="dialog" aria-labelledby="editEventModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editEventModalLabel">Editar Evento</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
      Aquí puedes colocar tu formulario de edición
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary">Guardar Cambios</button>
      </div>
    </div>
  </div>
</div> -->
